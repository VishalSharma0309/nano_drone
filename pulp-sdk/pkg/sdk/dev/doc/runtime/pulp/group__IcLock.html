<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Inter-cluster locks</title>
<title>Runtime: Inter-cluster locks</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="pulp.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="printComponentTabs.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 46px;">
  <td id="projectlogo"><img alt="Logo" src="Pulp_logo_inline.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Runtime
   &#160;<span id="projectnumber">Version 1.0</span>
   </div>
   <div id="projectbrief">PULP Kernel Library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<div id="CMSISnav" class="tabs1">
    <ul class="tablist">
      <script type="text/javascript">
		<!--
		writeComponentTabs.call(this);
		//-->
      </script>
	  </ul>
</div>
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__IcLock.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Inter-cluster locks<div class="ingroups"><a class="el" href="group__groupCluster.html">Cluster</a> &raquo; <a class="el" href="group__McSync.html">Inter-cluster synchronization</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structrt__iclock__conf__t.html">rt_iclock_conf_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configuration structure for inter-cluster locks.  <a href="structrt__iclock__conf__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gaa9984b9c42d93e3e6e2b8160f7ca2f3d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__IcLock.html#gaa9984b9c42d93e3e6e2b8160f7ca2f3d">rt_iclock_conf_init</a> (<a class="el" href="structrt__iclock__conf__t.html">rt_iclock_conf_t</a> *conf)</td></tr>
<tr class="memdesc:gaa9984b9c42d93e3e6e2b8160f7ca2f3d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get default configuration.  <a href="#gaa9984b9c42d93e3e6e2b8160f7ca2f3d">More...</a><br /></td></tr>
<tr class="separator:gaa9984b9c42d93e3e6e2b8160f7ca2f3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7e4900733c0d5f4f86692d47e863a5f2"><td class="memItemLeft" align="right" valign="top">rt_iclock_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__IcLock.html#ga7e4900733c0d5f4f86692d47e863a5f2">rt_iclock_alloc</a> (<a class="el" href="structrt__iclock__conf__t.html">rt_iclock_conf_t</a> *conf)</td></tr>
<tr class="memdesc:ga7e4900733c0d5f4f86692d47e863a5f2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocate inter-cluster lock.  <a href="#ga7e4900733c0d5f4f86692d47e863a5f2">More...</a><br /></td></tr>
<tr class="separator:ga7e4900733c0d5f4f86692d47e863a5f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga490d8c6dfcca428bd7aaca98dfc67998"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__IcLock.html#ga490d8c6dfcca428bd7aaca98dfc67998">rt_iclock_free</a> (rt_iclock_t *lock)</td></tr>
<tr class="memdesc:ga490d8c6dfcca428bd7aaca98dfc67998"><td class="mdescLeft">&#160;</td><td class="mdescRight">Free the lock.  <a href="#ga490d8c6dfcca428bd7aaca98dfc67998">More...</a><br /></td></tr>
<tr class="separator:ga490d8c6dfcca428bd7aaca98dfc67998"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7e5398b04d09488883a0aac8554d2fbf"><td class="memItemLeft" align="right" valign="top">rt_iclock_cl_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__IcLock.html#ga7e5398b04d09488883a0aac8554d2fbf">rt_iclock_cl</a> (rt_iclock_t *lock)</td></tr>
<tr class="memdesc:ga7e5398b04d09488883a0aac8554d2fbf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the lock for the calling cluster which he can use for locking / unlocking.  <a href="#ga7e5398b04d09488883a0aac8554d2fbf">More...</a><br /></td></tr>
<tr class="separator:ga7e5398b04d09488883a0aac8554d2fbf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga293ca33844a20dd7a09e59ba749b013d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__IcLock.html#ga293ca33844a20dd7a09e59ba749b013d">rt_iclock_lock</a> (rt_iclock_cl_t *lock)</td></tr>
<tr class="memdesc:ga293ca33844a20dd7a09e59ba749b013d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the lock.  <a href="#ga293ca33844a20dd7a09e59ba749b013d">More...</a><br /></td></tr>
<tr class="separator:ga293ca33844a20dd7a09e59ba749b013d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga58458e7d41dd4a8bf09cd1b8989c2581"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__IcLock.html#ga58458e7d41dd4a8bf09cd1b8989c2581">rt_iclock_unlock</a> (rt_iclock_cl_t *lock)</td></tr>
<tr class="memdesc:ga58458e7d41dd4a8bf09cd1b8989c2581"><td class="mdescLeft">&#160;</td><td class="mdescRight">Release the lock.  <a href="#ga58458e7d41dd4a8bf09cd1b8989c2581">More...</a><br /></td></tr>
<tr class="separator:ga58458e7d41dd4a8bf09cd1b8989c2581"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Description</h2>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga7e4900733c0d5f4f86692d47e863a5f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7e4900733c0d5f4f86692d47e863a5f2">&#9670;&nbsp;</a></span>rt_iclock_alloc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">rt_iclock_t* rt_iclock_alloc </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structrt__iclock__conf__t.html">rt_iclock_conf_t</a> *&#160;</td>
          <td class="paramname"><em>conf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This will allocate all needed resources for the set of clusters specified in the configuration, and will initialize the lock, which becomes usable by the cluster after this call returns.</p>
<p>This must be called by the fabric controller.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conf</td><td>A pointer to the configuration. The configuration can be freed after this call. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The lock if the operation has succeeded, otherwise NULL. </dd></dl>

</div>
</div>
<a id="ga7e5398b04d09488883a0aac8554d2fbf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7e5398b04d09488883a0aac8554d2fbf">&#9670;&nbsp;</a></span>rt_iclock_cl()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">rt_iclock_cl_t* rt_iclock_cl </td>
          <td>(</td>
          <td class="paramtype">rt_iclock_t *&#160;</td>
          <td class="paramname"><em>lock</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>A cluster can not use the global lock allocated on fabric controller side. Instead it must call this function to get the lock that it should use.</p>
<p>This must be called from the cluster.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lock</td><td>The global lock allocated by the fabric controller. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The cluster lock. </dd></dl>

</div>
</div>
<a id="gaa9984b9c42d93e3e6e2b8160f7ca2f3d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa9984b9c42d93e3e6e2b8160f7ca2f3d">&#9670;&nbsp;</a></span>rt_iclock_conf_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rt_iclock_conf_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structrt__iclock__conf__t.html">rt_iclock_conf_t</a> *&#160;</td>
          <td class="paramname"><em>conf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This will set all fields of the given configuration to default values so that only specific ones can be set.</p>
<p>This must be called by the fabric controller.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conf</td><td>A pointer to the configuration. This must be allocated by the caller and must be kept alive until the lock is allocated. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga490d8c6dfcca428bd7aaca98dfc67998"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga490d8c6dfcca428bd7aaca98dfc67998">&#9670;&nbsp;</a></span>rt_iclock_free()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rt_iclock_free </td>
          <td>(</td>
          <td class="paramtype">rt_iclock_t *&#160;</td>
          <td class="paramname"><em>lock</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Free all resources allocated for the lock and also the lock itself. After this call, the lock should not be used anymore.</p>
<p>This must be called by the fabric controller.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lock</td><td>The fabric controller lock. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga293ca33844a20dd7a09e59ba749b013d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga293ca33844a20dd7a09e59ba749b013d">&#9670;&nbsp;</a></span>rt_iclock_lock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rt_iclock_lock </td>
          <td>(</td>
          <td class="paramtype">rt_iclock_cl_t *&#160;</td>
          <td class="paramname"><em>lock</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This will block the calling core until it is the only owner of the lock. If another core is owning the lock, it will sleep the calling cluster until the lock is released and is given to it (other cores could also be waiting for it).</p>
<p>This must be called from cluster side.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lock</td><td>The cluster lock. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga58458e7d41dd4a8bf09cd1b8989c2581"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga58458e7d41dd4a8bf09cd1b8989c2581">&#9670;&nbsp;</a></span>rt_iclock_unlock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rt_iclock_unlock </td>
          <td>(</td>
          <td class="paramtype">rt_iclock_cl_t *&#160;</td>
          <td class="paramname"><em>lock</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This will make the lock available. If at least one core is waiting for the lock, one of them will become the owner of the lock and will be woken-up.</p>
<p>This must be called from cluster side.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lock</td><td>The cluster lock. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">
	<!--
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 
	-->
	</li>
  </ul>
</div>
</body>
</html>
