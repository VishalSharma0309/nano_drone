<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>I2S</title>
<title>Runtime: I2S</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="pulp.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="printComponentTabs.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 46px;">
  <td id="projectlogo"><img alt="Logo" src="Pulp_logo_inline.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Runtime
   &#160;<span id="projectnumber">Version 1.0</span>
   </div>
   <div id="projectbrief">PULP Kernel Library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<div id="CMSISnav" class="tabs1">
    <ul class="tablist">
      <script type="text/javascript">
		<!--
		writeComponentTabs.call(this);
		//-->
      </script>
	  </ul>
</div>
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__I2S.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">I2S<div class="ingroups"><a class="el" href="group__groupDrivers.html">Drivers</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structrt__i2s__conf__t.html">rt_i2s_conf_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">I2S device configuration structure.  <a href="structrt__i2s__conf__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gadc46fef8b63b094934dc0496279b65e0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__I2S.html#gadc46fef8b63b094934dc0496279b65e0">rt_i2s_conf_init</a> (<a class="el" href="structrt__i2s__conf__t.html">rt_i2s_conf_t</a> *conf)</td></tr>
<tr class="memdesc:gadc46fef8b63b094934dc0496279b65e0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize an I2S configuration with default values.  <a href="#gadc46fef8b63b094934dc0496279b65e0">More...</a><br /></td></tr>
<tr class="separator:gadc46fef8b63b094934dc0496279b65e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga08b4b7c9b9863f99f43982c81258c004"><td class="memItemLeft" align="right" valign="top">rt_i2s_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__I2S.html#ga08b4b7c9b9863f99f43982c81258c004">rt_i2s_open</a> (char *dev_name, <a class="el" href="structrt__i2s__conf__t.html">rt_i2s_conf_t</a> *conf, <a class="el" href="gap8__emul_8h.html#a8296d4f358c4e2b389cc71656fe86353">rt_event_t</a> *event)</td></tr>
<tr class="memdesc:ga08b4b7c9b9863f99f43982c81258c004"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open an I2S device.  <a href="#ga08b4b7c9b9863f99f43982c81258c004">More...</a><br /></td></tr>
<tr class="separator:ga08b4b7c9b9863f99f43982c81258c004"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf630a8e263da0b6c78cc95f34692e145"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__I2S.html#gaf630a8e263da0b6c78cc95f34692e145">rt_i2s_capture</a> (rt_i2s_t *handle, void *buffer, size_t size, <a class="el" href="gap8__emul_8h.html#a8296d4f358c4e2b389cc71656fe86353">rt_event_t</a> *event)</td></tr>
<tr class="memdesc:gaf630a8e263da0b6c78cc95f34692e145"><td class="mdescLeft">&#160;</td><td class="mdescRight">Capture a sequence of samples.  <a href="#gaf630a8e263da0b6c78cc95f34692e145">More...</a><br /></td></tr>
<tr class="separator:gaf630a8e263da0b6c78cc95f34692e145"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gade72045a92a8e5638e791d2f4c0d47fe"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__I2S.html#gade72045a92a8e5638e791d2f4c0d47fe">rt_i2s_channel_capture</a> (rt_i2s_t *handle, int channel, void *buffer, size_t size, <a class="el" href="gap8__emul_8h.html#a8296d4f358c4e2b389cc71656fe86353">rt_event_t</a> *event)</td></tr>
<tr class="separator:gade72045a92a8e5638e791d2f4c0d47fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga05e13a322f38a162cb4a066ba10560d1"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__I2S.html#ga05e13a322f38a162cb4a066ba10560d1">rt_i2s_start</a> (rt_i2s_t *handle)</td></tr>
<tr class="memdesc:ga05e13a322f38a162cb4a066ba10560d1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start sampling.  <a href="#ga05e13a322f38a162cb4a066ba10560d1">More...</a><br /></td></tr>
<tr class="separator:ga05e13a322f38a162cb4a066ba10560d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab5794cf9bb681f79577baa8a61916cd3"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__I2S.html#gab5794cf9bb681f79577baa8a61916cd3">rt_i2s_stop</a> (rt_i2s_t *handle)</td></tr>
<tr class="memdesc:gab5794cf9bb681f79577baa8a61916cd3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stop sampling.  <a href="#gab5794cf9bb681f79577baa8a61916cd3">More...</a><br /></td></tr>
<tr class="separator:gab5794cf9bb681f79577baa8a61916cd3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga85133454c1cacca1cd277e7510a5b809"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__I2S.html#ga85133454c1cacca1cd277e7510a5b809">rt_i2s_close</a> (rt_i2s_t *handle, <a class="el" href="gap8__emul_8h.html#a8296d4f358c4e2b389cc71656fe86353">rt_event_t</a> *event)</td></tr>
<tr class="memdesc:ga85133454c1cacca1cd277e7510a5b809"><td class="mdescLeft">&#160;</td><td class="mdescRight">Close an opened I2S device.  <a href="#ga85133454c1cacca1cd277e7510a5b809">More...</a><br /></td></tr>
<tr class="separator:ga85133454c1cacca1cd277e7510a5b809"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Description</h2>
<p>This API provides support for transferring data between an external I2S device and the processor running this driver. One API can actually drive up to 4 I2S coupled together. </p>
<h2 class="groupheader">Function Documentation</h2>
<a id="gaf630a8e263da0b6c78cc95f34692e145"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf630a8e263da0b6c78cc95f34692e145">&#9670;&nbsp;</a></span>rt_i2s_capture()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void rt_i2s_capture </td>
          <td>(</td>
          <td class="paramtype">rt_i2s_t *&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="gap8__emul_8h.html#a8296d4f358c4e2b389cc71656fe86353">rt_event_t</a> *&#160;</td>
          <td class="paramname"><em>event</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Enqueue the specified buffer so that the I2S samples are transfered to this buffer. It is possible to call this function asynchronously and several time in order to enqueue several buffers. At least 2 buffers should be queued to ensure that no data sampled is lost and also enables maximum performance. Queue a new buffer when one is full to ensure that at least 2 are always available.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>The handler of the device which was returned when the device was opened. </td></tr>
    <tr><td class="paramname">buffer</td><td>The memory buffer where the captured samples will be transfered. </td></tr>
    <tr><td class="paramname">size</td><td>The size in bytes of the memory buffer. </td></tr>
    <tr><td class="paramname">event</td><td>The event used for managing termination. The event will be notified as soon as the specified amount of bytes have been captured. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gade72045a92a8e5638e791d2f4c0d47fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gade72045a92a8e5638e791d2f4c0d47fe">&#9670;&nbsp;</a></span>rt_i2s_channel_capture()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void rt_i2s_channel_capture </td>
          <td>(</td>
          <td class="paramtype">rt_i2s_t *&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="gap8__emul_8h.html#a8296d4f358c4e2b389cc71656fe86353">rt_event_t</a> *&#160;</td>
          <td class="paramname"><em>event</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ga85133454c1cacca1cd277e7510a5b809"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga85133454c1cacca1cd277e7510a5b809">&#9670;&nbsp;</a></span>rt_i2s_close()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void rt_i2s_close </td>
          <td>(</td>
          <td class="paramtype">rt_i2s_t *&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="gap8__emul_8h.html#a8296d4f358c4e2b389cc71656fe86353">rt_event_t</a> *&#160;</td>
          <td class="paramname"><em>event</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This function closes an opened I2S device once it is not needed anymore, in order to free all allocated resources. Once this function is called, the device is not accessible anymore and must be opened again before being used. This operation is asynchronous and its termination can be managed through an event.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>The handler of the device which was returned when the device was opened. </td></tr>
    <tr><td class="paramname">event</td><td>The event used for managing termination. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gadc46fef8b63b094934dc0496279b65e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gadc46fef8b63b094934dc0496279b65e0">&#9670;&nbsp;</a></span>rt_i2s_conf_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rt_i2s_conf_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structrt__i2s__conf__t.html">rt_i2s_conf_t</a> *&#160;</td>
          <td class="paramname"><em>conf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function can be called to get default values for all parameters before setting some of them. The structure containing the configuration must be kept alive until the i2s device is opened.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conf</td><td>A pointer to the I2S configuration. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga08b4b7c9b9863f99f43982c81258c004"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga08b4b7c9b9863f99f43982c81258c004">&#9670;&nbsp;</a></span>rt_i2s_open()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">rt_i2s_t* rt_i2s_open </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>dev_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structrt__i2s__conf__t.html">rt_i2s_conf_t</a> *&#160;</td>
          <td class="paramname"><em>conf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="gap8__emul_8h.html#a8296d4f358c4e2b389cc71656fe86353">rt_event_t</a> *&#160;</td>
          <td class="paramname"><em>event</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function must be called before the I2S device can be used. It will do all the needed configuration to make it usable and also return a handle used to refer to this opened device when calling other functions. This operation is asynchronous and its termination can be managed through an event.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dev_name</td><td>The device name. This name should correspond to the one used to configure the devices managed by the runtime. </td></tr>
    <tr><td class="paramname">conf</td><td>A pointer to the I2S configuration. Can be NULL to take default configuration. </td></tr>
    <tr><td class="paramname">event</td><td>The event used for managing termination. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>NULL if the device is not found, or a handle identifying the device and which can be used with other functions </dd></dl>

</div>
</div>
<a id="ga05e13a322f38a162cb4a066ba10560d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga05e13a322f38a162cb4a066ba10560d1">&#9670;&nbsp;</a></span>rt_i2s_start()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void rt_i2s_start </td>
          <td>(</td>
          <td class="paramtype">rt_i2s_t *&#160;</td>
          <td class="paramname"><em>handle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This immediately starts sampling of the data stream. If no capture buffer is configured yet, the samples are just lost, otherwise they are transfered to the capture buffer.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>The handler of the device which was returned when the device was opened. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gab5794cf9bb681f79577baa8a61916cd3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab5794cf9bb681f79577baa8a61916cd3">&#9670;&nbsp;</a></span>rt_i2s_stop()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void rt_i2s_stop </td>
          <td>(</td>
          <td class="paramtype">rt_i2s_t *&#160;</td>
          <td class="paramname"><em>handle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This immediately stops sampling of the data stream.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>The handler of the device which was returned when the device was opened. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">
	<!--
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 
	-->
	</li>
  </ul>
</div>
</body>
</html>
