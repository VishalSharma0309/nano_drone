<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Team synchronization primitives</title>
<title>Runtime: Team synchronization primitives</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="pulp.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="printComponentTabs.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 46px;">
  <td id="projectlogo"><img alt="Logo" src="Pulp_logo_inline.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Runtime
   &#160;<span id="projectnumber">Version 1.0</span>
   </div>
   <div id="projectbrief">PULP Kernel Library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<div id="CMSISnav" class="tabs1">
    <ul class="tablist">
      <script type="text/javascript">
		<!--
		writeComponentTabs.call(this);
		//-->
      </script>
	  </ul>
</div>
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__Team.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Team synchronization primitives<div class="ingroups"><a class="el" href="group__groupCluster.html">Cluster</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga36da80851c8684584ab6681a4fe43d1e"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Team.html#ga36da80851c8684584ab6681a4fe43d1e">rt_team_fork</a> (int nb_cores, void(*entry)(void *), void *arg)</td></tr>
<tr class="memdesc:ga36da80851c8684584ab6681a4fe43d1e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fork the execution of the calling core.  <a href="#ga36da80851c8684584ab6681a4fe43d1e">More...</a><br /></td></tr>
<tr class="separator:ga36da80851c8684584ab6681a4fe43d1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3741e3cc5593263ba0262d10eb211be7"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Team.html#ga3741e3cc5593263ba0262d10eb211be7">rt_team_barrier</a> ()</td></tr>
<tr class="memdesc:ga3741e3cc5593263ba0262d10eb211be7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Execute a barrier between all cores of the team.  <a href="#ga3741e3cc5593263ba0262d10eb211be7">More...</a><br /></td></tr>
<tr class="separator:ga3741e3cc5593263ba0262d10eb211be7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaec18770ea9ff683f93b464f81071b5bb"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Team.html#gaec18770ea9ff683f93b464f81071b5bb">rt_team_critical_enter</a> ()</td></tr>
<tr class="memdesc:gaec18770ea9ff683f93b464f81071b5bb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enter a critical section.  <a href="#gaec18770ea9ff683f93b464f81071b5bb">More...</a><br /></td></tr>
<tr class="separator:gaec18770ea9ff683f93b464f81071b5bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4a84ed0923a6cde4f18de725ed3e03d0"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Team.html#ga4a84ed0923a6cde4f18de725ed3e03d0">rt_team_critical_exit</a> ()</td></tr>
<tr class="memdesc:ga4a84ed0923a6cde4f18de725ed3e03d0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Exit a critical section.  <a href="#ga4a84ed0923a6cde4f18de725ed3e03d0">More...</a><br /></td></tr>
<tr class="separator:ga4a84ed0923a6cde4f18de725ed3e03d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Description</h2>
<p>Once a cluster entry point has been entered, after it has been enqueued by the fabric controller, all the following primitives can be used to do multi-core processing, in a fork-join manner (like OMP parallel primitive).</p>
<p>The execution can first be forked in order to activate more cores, and then synchronized together using barriers. </p>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga3741e3cc5593263ba0262d10eb211be7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3741e3cc5593263ba0262d10eb211be7">&#9670;&nbsp;</a></span>rt_team_barrier()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void rt_team_barrier </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This will block the execution of each calling core until all cores have reached the barrier. The set of cores participating in the barrier is the one created with the last fork. Each core of the team must execute the barrier exactly once for all cores to be able to go through the barrier. </p>

</div>
</div>
<a id="gaec18770ea9ff683f93b464f81071b5bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaec18770ea9ff683f93b464f81071b5bb">&#9670;&nbsp;</a></span>rt_team_critical_enter()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void rt_team_critical_enter </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This will block the execution of the calling core until it can execute the following section of code alone. This will also prevent all other cores of the team to execute the following code until rt_team_critical_exit is called. </p>

</div>
</div>
<a id="ga4a84ed0923a6cde4f18de725ed3e03d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4a84ed0923a6cde4f18de725ed3e03d0">&#9670;&nbsp;</a></span>rt_team_critical_exit()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void rt_team_critical_exit </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This will exit the critical code and let other cores executing it.. </p>

</div>
</div>
<a id="ga36da80851c8684584ab6681a4fe43d1e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga36da80851c8684584ab6681a4fe43d1e">&#9670;&nbsp;</a></span>rt_team_fork()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void rt_team_fork </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nb_cores</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(void *)&#160;</td>
          <td class="paramname"><em>entry</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Calling this function will create a team of workers and call the specified entry point to start multi-core processing. The team parameters (number of cores and stacks) are by default the ones configured when calling the cluster entry point from the fabric controller. It is possible to use different parameters when doing a new fork. If this is done the new parameters will become the new default ones. If the number of cores is not provided (i.e. is zero), the number of cores of the previous fork will be reused. Doing this has less runtime overhead.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">nb_cores</td><td>The number of cores which will enter the entry point. If it is zero, this will reuse the number of cores of the previous fork or the default. </td></tr>
    <tr><td class="paramname">entry</td><td>The function entry point to be executed by all cores of the team. </td></tr>
    <tr><td class="paramname">arg</td><td>The argument of the function entry point. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">
	<!--
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 
	-->
	</li>
  </ul>
</div>
</body>
</html>
