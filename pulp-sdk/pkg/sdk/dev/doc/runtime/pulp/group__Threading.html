<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Thread scheduler</title>
<title>Runtime: Thread scheduler</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="pulp.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="printComponentTabs.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 46px;">
  <td id="projectlogo"><img alt="Logo" src="Pulp_logo_inline.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Runtime
   &#160;<span id="projectnumber">Version 1.0</span>
   </div>
   <div id="projectbrief">PULP Kernel Library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<div id="CMSISnav" class="tabs1">
    <ul class="tablist">
      <script type="text/javascript">
		<!--
		writeComponentTabs.call(this);
		//-->
      </script>
	  </ul>
</div>
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__Threading.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Thread scheduler<div class="ingroups"><a class="el" href="group__groupKernel.html">Kernel</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gae4cbc5ff65911d94c2982153113a6743"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Threading.html#gae4cbc5ff65911d94c2982153113a6743">rt_thread_create</a> (rt_thread_t *thread, void *(*entry)(void *), void *arg, unsigned int stack, unsigned int stack_size)</td></tr>
<tr class="memdesc:gae4cbc5ff65911d94c2982153113a6743"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a thread.  <a href="#gae4cbc5ff65911d94c2982153113a6743">More...</a><br /></td></tr>
<tr class="separator:gae4cbc5ff65911d94c2982153113a6743"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga28d3611141800cfce77b2c02e3e49396"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Threading.html#ga28d3611141800cfce77b2c02e3e49396">rt_thread_yield</a> ()</td></tr>
<tr class="memdesc:ga28d3611141800cfce77b2c02e3e49396"><td class="mdescLeft">&#160;</td><td class="mdescRight">Yield the processor.  <a href="#ga28d3611141800cfce77b2c02e3e49396">More...</a><br /></td></tr>
<tr class="separator:ga28d3611141800cfce77b2c02e3e49396"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4cce6bfd53577014808671e12d63fa96"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Threading.html#ga4cce6bfd53577014808671e12d63fa96">rt_thread_join</a> (rt_thread_t *thread)</td></tr>
<tr class="memdesc:ga4cce6bfd53577014808671e12d63fa96"><td class="mdescLeft">&#160;</td><td class="mdescRight">Join a thread.  <a href="#ga4cce6bfd53577014808671e12d63fa96">More...</a><br /></td></tr>
<tr class="separator:ga4cce6bfd53577014808671e12d63fa96"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa26bd5a3dea203037abcaff58d0305d9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Threading.html#gaa26bd5a3dea203037abcaff58d0305d9">rt_thread_exit</a> (void *status)</td></tr>
<tr class="memdesc:gaa26bd5a3dea203037abcaff58d0305d9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Exit the calling thread.  <a href="#gaa26bd5a3dea203037abcaff58d0305d9">More...</a><br /></td></tr>
<tr class="separator:gaa26bd5a3dea203037abcaff58d0305d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Description</h2>
<p>The runtime on the fabric controller is always running a thread scheduler. This scheduler is priority-based and preemptive. Only the ready threads of the highest priority are scheduled following a round-robin policy. Threads are preempted at a fixed frequency in order to let other threads of the same priority run.</p>
<p>The main function of the application is entered from the initial thread. If the application does not need multiple threads, the following API is not needed as the whole application will execute inside the initial thread. </p>
<h2 class="groupheader">Function Documentation</h2>
<a id="gae4cbc5ff65911d94c2982153113a6743"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae4cbc5ff65911d94c2982153113a6743">&#9670;&nbsp;</a></span>rt_thread_create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rt_thread_create </td>
          <td>(</td>
          <td class="paramtype">rt_thread_t *&#160;</td>
          <td class="paramname"><em>thread</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *(*)(void *)&#160;</td>
          <td class="paramname"><em>entry</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>stack</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>stack_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Creates a thread. The thread is created active and put in the list of ready threads and can be scheduled immediately. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">thread</td><td>Pointer to the thread structure. This structure must be allocated by the caller and must be kept allocated until the thread has been joined. </td></tr>
    <tr><td class="paramname">entry</td><td>The thread entry point. As soon as the thread is scheduled for the first time, it will execute this function. </td></tr>
    <tr><td class="paramname">arg</td><td>The thread entry point argument. The entry point is called with this argument. </td></tr>
    <tr><td class="paramname">stack</td><td>Thread stack. It must be allocated by the caller and be allocated anywhere. If it is NULL, the runtime will allocate the stack. </td></tr>
    <tr><td class="paramname">stack_size</td><td>Thread stack size. If a stack is given, this indicates its size. If no stack is given, this specifies the required stack size. If it is 0, the runtime will take a default stack size. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if successful, -1 otherwise </dd></dl>

</div>
</div>
<a id="gaa26bd5a3dea203037abcaff58d0305d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa26bd5a3dea203037abcaff58d0305d9">&#9670;&nbsp;</a></span>rt_thread_exit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rt_thread_exit </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>status</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This immediately stops the execution of the calling thread which will not be scheduled anymore. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">status</td><td>The exit status of the thread, which can be retrieved through thread_join/ </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga4cce6bfd53577014808671e12d63fa96"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4cce6bfd53577014808671e12d63fa96">&#9670;&nbsp;</a></span>rt_thread_join()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* rt_thread_join </td>
          <td>(</td>
          <td class="paramtype">rt_thread_t *&#160;</td>
          <td class="paramname"><em>thread</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This blocks the execution of the calling thread until the specified thread has finished execution. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">thread</td><td>The thread which the calling thread will wait for. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The exit status returned by the thread. </dd></dl>

</div>
</div>
<a id="ga28d3611141800cfce77b2c02e3e49396"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga28d3611141800cfce77b2c02e3e49396">&#9670;&nbsp;</a></span>rt_thread_yield()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rt_thread_yield </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This asks the scheduler to scheduler the next thread in the ready list. If no other thread is ready, the calling thread just continues execution. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">
	<!--
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 
	-->
	</li>
  </ul>
</div>
</body>
</html>
